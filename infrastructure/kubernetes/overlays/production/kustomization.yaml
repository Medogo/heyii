# ========================================
# infrastructure/kubernetes/overlays/production/kustomization.yaml
# ========================================
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: heyi

resources:
- ../../base/namespace.yaml
- ../../base/configmap.yaml
- ../../base/secrets.yaml
- ../../base/deployment.yaml
- ../../base/service.yaml
- ../../base/ingress.yaml
- ../../base/hpa.yaml
- ../../base/qdrant-deployment.yaml
- ../../monitoring/prometheus.yaml
- ../../monitoring/grafana.yaml

replicas:
- name: heyi-api
  count: 5

images:
- name: heyi/api
  newTag: v1.0.0

patchesStrategicMerge:
- replica-patch.yaml
- resources-patch.yaml